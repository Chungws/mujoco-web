# ==================================
# VLA Arena Configuration
# ==================================
# Usage:
#   Development: cp .env.example .env
#   Production: Copy and modify for docker-compose.yml
#
# Note: Each service (backend/, worker/, frontend/) can have its own .env
#       to override these root settings if needed.

# ==================================
# Database
# ==================================
# Development (host machine)
POSTGRES_URI=postgresql+asyncpg://postgres:postgres@localhost:5432/vlaarena

# Production (Docker Compose - uncomment and modify)
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=your-secure-password-here
# POSTGRES_DB=vlaarena
# POSTGRES_URI=postgresql+asyncpg://postgres:your-secure-password-here@postgres:5432/vlaarena

# PostgreSQL connection pool (Backend API)
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20

# ==================================
# Backend API
# ==================================
# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
# Production example:
# CORS_ORIGINS=https://yourdomain.com,http://YOUR_SERVER_IP:3000

# Model configuration path
# Backend runs from backend/, worker runs from worker/, both need ../config/
# Production (Docker): Absolute path /app/config/models.yaml
MODELS_CONFIG_PATH=../config/models.yaml

# VLA model settings
VLA_MODEL_PATH=./models
VLA_INFERENCE_TIMEOUT=60

# Episode settings
EPISODE_MAX_STEPS=50
EPISODE_TIMEOUT=30

# ==================================
# Frontend
# ==================================
NEXT_PUBLIC_API_URL=http://localhost:8000
# Production examples:
# NEXT_PUBLIC_API_URL=https://api.yourdomain.com
# NEXT_PUBLIC_API_URL=http://YOUR_SERVER_IP:8000

# ==================================
# Worker (Vote Aggregation)
# ==================================
# Run worker every N minutes (60 = 1 hour, 5 = 5 minutes for testing)
WORKER_INTERVAL_MINUTES=60
WORKER_TIMEZONE=UTC

# Worker PostgreSQL connection pool
WORKER_POOL_SIZE=2
WORKER_MAX_OVERFLOW=3
WORKER_POOL_TIMEOUT=10

# ==================================
# Leaderboard & ELO
# ==================================
MIN_VOTES_FOR_LEADERBOARD=5
INITIAL_ELO=1500
K_FACTOR=32

# ==================================
# MinIO (S3-compatible Object Storage)
# ==================================
# Used for storing episode videos
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_ENDPOINT=localhost:9000
MINIO_BUCKET=vlaarena-videos
MINIO_USE_SSL=false

# Production (Docker internal):
# MINIO_ENDPOINT=minio:9000

# ==================================
# Docker Resource Limits (Production)
# ==================================
# Uncomment for production deployment
# BACKEND_MEMORY_LIMIT=2g
# BACKEND_CPU_LIMIT=2.0
# WORKER_MEMORY_LIMIT=1g
# WORKER_CPU_LIMIT=1.0
# FRONTEND_MEMORY_LIMIT=1g
# FRONTEND_CPU_LIMIT=1.0
# MINIO_MEMORY_LIMIT=2g
# MINIO_CPU_LIMIT=1.0

# ==================================
# Logging (Production)
# ==================================
# LOG_LEVEL=INFO
